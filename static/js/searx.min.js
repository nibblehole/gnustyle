/*! gnustyle/searx.min.js | 25-07-2020 | https://github.com/dasj19/gnustyle */

function build_video(t){for(var e="",a=0;a<t.length;a++)e+="      <div class='result result-videos'>        <div class='result-content'>          <a class='thumbnail' href='"+t[a].url+"' rel='noreferrer'>            <img src='"+t[a].thumbnail+"' alt=\""+t[a].title+"\">          </a>          <div>            <h4 class='result_header'>              <a href='"+t[a].url+"' rel='noreferrer'>"+t[a].title+"</a>            </h4>          </div>        </div>      </div>";return e}function build_image(t){for(var e="",a=0;a<t.length;a++)e+="      <div class='result result-images'>        <a href="+t[a].img_src+"' data-url='"+t[a].url+"' class='img-thumb-link'>          <img src='"+t[a].thumbnail_src+"' alt=\""+t[a].title+'" title="'+t[a].title+"\" class='img-thumbnail'>        </a>      </div>";return e}window.searx=function(t){"use strict";var e,a=t.currentScript||(e=t.getElementsByTagName("script"))[e.length-1];return{autocompleter:"true"===a.getAttribute("data-autocompleter"),method:a.getAttribute("data-method")}}(document),searx.autocompleter&&(searx.searchResults=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"./autocompleter?q=%QUERY"}),searx.searchResults.initialize()),$(document).ready(function(){searx.autocompleter&&$("#q").typeahead(null,{name:"search-results",displayKey:function(t){return t},source:searx.searchResults.ttAdapter()})}),$(document).ready(function(){$("#results").on("click",".result.result-images",function(t){t.preventDefault();var e=t.target,a=e.src;"IMG"==e.tagName&&(e=e.parentElement);var s,i,n=document.getElementById("image_view_modal");n.classList.remove("hidden"),n.style.top=window.scrollY+"px",s=e,i=a,document.getElementById("image_view_image").src=i,document.getElementById("image_view_file_link").href=s.href,document.getElementById("image_view_url_link").href=s.dataset.url,document.body.classList.add("lock")}),$("#close_image_view_modal").click(function(){document.getElementById("image_view_modal").classList.add("hidden"),document.getElementById("image_view_image").src="",document.getElementById("image_view_file_link").href="#",document.getElementById("image_view_url_link").href="#",document.body.classList.remove("lock")}),$("#results").has(".first-page-media-results").length&&$.param({format:"json",q:$("#q").attr("value"),language:$("select[name='language']").find("option:selected").attr("value"),time_range:$("select[name='time_range']").find("option:selected").attr("value")})}),$(document).ready(function(){$("#q.autofocus").focus(),$(".select-all-on-click").click(function(){$(this).select()}),$(".btn-collapse").click(function(){var t=$(this).data("btn-text-collapsed"),e=$(this).data("btn-text-not-collapsed");""!==t&&""!==e&&(new_html=$(this).hasClass("collapsed")?$(this).html().replace(t,e):$(this).html().replace(e,t),$(this).html(new_html))}),$(".btn-toggle .btn").click(function(){var t="btn-"+$(this).data("btn-class"),e=$(this).data("btn-label-default"),a=$(this).data("btn-label-toggled");""!==a&&(new_html=$(this).hasClass("btn-default")?$(this).html().replace(e,a):$(this).html().replace(a,e),$(this).html(new_html)),$(this).toggleClass(t),$(this).toggleClass("btn-default")}),$(".media-loader").click(function(){var t=$(this).data("target"),e=$(t+" > iframe"),a=e.attr("src");void 0!==a&&!1!==a||e.attr("src",e.data("src"))}),$(".btn-sm").dblclick(function(){var t="btn-"+$(this).data("btn-class");$(this).hasClass("btn-default")?($(".btn-sm > input").attr("checked","checked"),$(".btn-sm > input").prop("checked",!0),$(".btn-sm").addClass(t),$(".btn-sm").addClass("active"),$(".btn-sm").removeClass("btn-default")):($(".btn-sm > input").attr("checked",""),$(".btn-sm > input").removeAttr("checked"),$(".btn-sm > input").checked=!1,$(".btn-sm").removeClass(t),$(".btn-sm").removeClass("active"),$(".btn-sm").addClass("btn-default"))})}),$(document).ready(function(){$(".searx_overpass_request").on("click",function(t){var e="https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(",a=");out meta;",s=$(this).data("osm-id"),i=$(this).data("osm-type"),n=$(this).data("result-table"),l="#"+$(this).data("result-table-loadicon"),r=["addr:city","addr:country","addr:housenumber","addr:postcode","addr:street"];if(s&&i&&n){n="#"+n;var o=null;switch(i){case"node":o=e+"node("+s+");"+a;break;case"way":o=e+"way("+s+");"+a;break;case"relation":o=e+"relation("+s+");"+a}o&&$.ajax(o).done(function(t){if(t&&t.elements&&t.elements[0]){var e=t.elements[0],a=$(n).html();for(var s in e.tags)if(null===e.tags.name||-1==r.indexOf(s)){switch(a+="<tr><td>"+s+"</td><td>",s){case"phone":case"fax":a+='<a href="tel:'+e.tags[s].replace(/ /g,"")+'">'+e.tags[s]+"</a>";break;case"email":a+='<a href="mailto:'+e.tags[s]+'">'+e.tags[s]+"</a>";break;case"website":case"url":a+='<a href="'+e.tags[s]+'">'+e.tags[s]+"</a>";break;case"wikidata":a+='<a href="https://www.wikidata.org/wiki/'+e.tags[s]+'">'+e.tags[s]+"</a>";break;case"wikipedia":if(-1!=e.tags[s].indexOf(":")){a+='<a href="https://'+e.tags[s].substring(0,e.tags[s].indexOf(":"))+".wikipedia.org/wiki/"+e.tags[s].substring(e.tags[s].indexOf(":")+1)+'">'+e.tags[s]+"</a>";break}default:a+=e.tags[s]}a+="</td></tr>"}$(n).html(a),$(n).removeClass("hidden"),$(l).addClass("hidden")}}).fail(function(){$(l).html($(l).html()+'<p class="text-muted">could not load data!</p>')})}$(this).off(t)}),$(".searx_init_map").on("click",function(t){var i=$(this).data("leaflet-target"),n=$(this).data("map-lon"),l=$(this).data("map-lat"),r=$(this).data("map-zoom"),o=$(this).data("map-boundingbox"),d=$(this).data("map-geojson");require(["leaflet-0.7.3.min"],function(t){o&&(southWest=L.latLng(o[0],o[2]),northEast=L.latLng(o[1],o[3]),map_bounds=L.latLngBounds(southWest,northEast)),L.Icon.Default.imagePath="./static/img/map";var e=L.map(i),a=new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'});new L.TileLayer("https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:'Wikimedia maps beta | Maps data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'});map_bounds?setTimeout(function(){e.fitBounds(map_bounds,{maxZoom:17})},0):n&&l&&(r?e.setView(new L.LatLng(l,n),r):e.setView(new L.LatLng(l,n),8)),e.addLayer(a);var s={"OSM Mapnik":a};L.control.layers(s).addTo(e),d&&L.geoJson(d).addTo(e)}),$(this).off(t)})});